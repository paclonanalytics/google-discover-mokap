# Project TODO

## Дизайн и стилизация
- [x] Настроить цветовую палитру в стиле Semrush (темно-синий, голубой, серые оттенки)
- [x] Настроить типографику и глобальные стили
- [x] Обновить логотип приложения

## Структура приложения
- [x] Создать компонент DashboardLayout с боковым меню
- [x] Реализовать Header с логотипом и информацией о пользователе
- [x] Настроить навигацию между разделами (Discover Analysis, Discover Tracking, Tools)

## Страница Discover Analysis
- [x] Добавить заголовок и описание страницы
- [x] Создать форму поиска с полями: страна, категория, формат, селектор источника, период
- [x] Реализовать виджет "Самые популярные материалы за последние 24 часа"
- [x] Добавить виджет "Самые популярные Entity за последние 24 часа"
- [x] Добавить виджет "Самые популярные Истории за последние 24 часа"
- [x] Добавить виджет "Самые популярные Домены за последние 24 часа"
- [x] Добавить виджет "История поиска"

## Компоненты и данные
- [x] Создать mock-данные для всех виджетов
- [x] Реализовать карточки материалов с превью, заголовком, доменом, DDS, сущностями
- [x] Добавить иконки и визуальные элементы

## Финализация
- [x] Проверить адаптивность на разных разрешениях
- [x] Протестировать все интерактивные элементы
- [x] Создать чекпоинт проекта

## Модернизация дизайна
- [x] Обновить цветовую палитру с добавлением градиентов
- [x] Улучшить sidebar с современными эффектами
- [x] Добавить тени и улучшенные скругления для карточек
- [x] Реализовать плавные анимации и transitions
- [x] Улучшить визуальную иерархию виджетов
- [x] Обновить стили форм и кнопок
- [x] Создать чекпоинт с обновленным дизайном

## Оптимизация дизайна
- [x] Переделать популярные материалы в табличный формат
- [x] Убрать нумерацию у популярных Entity
- [x] Сделать форму поиска в одну строку без лишних отступов
- [x] Уменьшить общие отступы для более компактного дизайна
- [x] Создать чекпоинт с оптимизированным дизайном

## Финальная доработка дизайна
- [x] Убрать фоны из card-header всех карточек
- [x] Убрать иконки из заголовков карточек
- [x] Уменьшить отступы в card-header
- [x] Добавить выбор языка в форму поиска
- [x] Увеличить кнопку фильтрации
- [x] Переместить заголовок и описание внутрь формы поиска
- [x] Создать финальный чекпоинт

## Улучшение таблицы материалов и фильтров
- [x] Увеличить количество материалов в таблице до 10
- [x] Добавить метрику Avg Position в таблицу
- [x] Добавить дату публикации под заголовком материала
- [x] Переименовать Interest Volume в Est Traffic
- [x] Переместить параметры фильтрации справа от заголовка
- [x] Убрать кнопку "Применить фильтры"
- [x] Добавить виджет "Популярные категории"
- [x] Создать чекпоинт с улучшениями

## Финальная оптимизация фильтров и таблицы
- [x] Убрать описание под заголовком в фильтрах
- [x] Убрать иконку у заголовка в фильтрах
- [x] Убрать labels с названиями полей в фильтрах
- [x] Добавить зеленую точку слева от параметра в Live режиме
- [x] Добавить возможность выбора кастомной даты в селектор периода
- [x] Переименовать заголовок таблицы в "Popular publications"
- [x] Вынести метрику DDS в отдельную колонку
- [x] Переместить метрики (Lifetime, Avg Pos, Est Traffic) в правую сторону таблицы
- [x] Визуально выделить главную сущность в списке сущностей
- [x] Убрать gap-6 в виджетах
- [x] Создать финальный чекпоинт

## Переименование заголовков виджетов
- [x] Переименовать "Самые популярные Entity" в "Popular Entities"
- [x] Переименовать "Популярные категории" в "Popular Categories"
- [x] Переименовать "Самые популярные Истории" в "Popular Stories"
- [x] Переименовать "Самые популярные Домены" в "Popular Publishers"
- [x] Переименовать "История поиска" в "History Searches"
- [x] Переделать History Searches в табличный формат
- [x] Создать финальный чекпоинт

## Рефакторинг заголовка таблицы
- [x] Переместить заголовок Popular publications внутрь карточки с таблицей
- [x] Убрать gap-6 в bg-card
- [x] Создать финальный чекпоинт

## Добавление миниграфиков
- [x] Добавить миниграфики в Popular Entities
- [x] Добавить миниграфики в Popular Categories
- [x] Создать mock-данные для графиков за последние 24 часа
- [x] Создать финальный чекпоинт

## Замена миниграфиков на барчарты
- [x] Заменить линейные графики на столбчатые диаграммы в Popular Entities
- [x] Заменить линейные графики на столбчатые диаграммы в Popular Categories
- [x] Выровнять метрики в колонках для единообразного отображения
- [x] Создать финальный чекпоинт

## Реорганизация виджетов
- [x] Убрать виджет Popular Stories
- [x] Разместить Popular Entities, Popular Categories и Popular Publishers в одну строку
- [x] Увеличить количество доменов в Popular Publishers до 5
- [x] Убрать лейбл "DDS" из метрики DDS в Popular Publishers
- [x] Создать финальный чекпоинт

## Оптимизация таблицы и Popular Publishers
- [x] Убрать иконки у Avg Pos и Est Traffic в таблице Popular publications
- [x] Добавить метрику Avg Pos в Popular Publishers
- [x] Убрать текст "статей" из Popular Publishers
- [x] Добавить барчарты динамики публикаций в Popular Publishers
- [x] Добавить толтип для DDS с описанием метрики
- [x] Создать финальный чекпоинт

## Реорганизация метрик Popular Publishers
- [x] Переместить DDS рядом с доменом
- [x] Убрать метрику Avg Pos
- [x] Добавить процент изменения динамики публикаций
- [x] Создать финальный чекпоинт

## Финальные правки таблицы и виджетов
- [x] Убрать иконки у Avg Pos и Est Traffic в таблице Popular publications
- [x] Изменить gap-6 на calc(var(--spacing))
- [x] Добавить заголовок "Публикации" над метриками в Popular Entities
- [x] Добавить заголовок "Публикации" над метриками в Popular Categories
- [x] Добавить заголовок "Публикации" над метриками в Popular Publishers
- [x] Создать финальный чекпоинт

## Уменьшение отступов в виджетах
- [x] Заменить gap-6 на gap-1 внутри всех виджетов
- [x] Создать финальный чекпоинт

## Обновление стилей заголовков таблиц
- [x] Обновить стили заголовков таблицы Popular publications (убрать фон, сделать более современными)
- [x] Обновить стили заголовков таблицы History Searches (убрать фон, сделать более современными)
- [x] Создать финальный чекпоинт

## Добавление тултипов к заголовкам таблицы Popular publications
- [x] Добавить тултип к заголовку DDS с объяснением метрики
- [x] Добавить тултип к заголовку Lifetime с пояснением "Количество часов наблюдения статьи в Google Discover"
- [x] Добавить тултип к заголовку Avg Pos с пояснением "Средняя позиция показа статьи в фиде"
- [x] Добавить тултип к заголовку Est Traffic с пояснением "Прогнозный объем трафика получаемый из Google Discover"
- [x] Создать финальный чекпоинт

## Оптимизация таблицы Popular publications
- [x] Убрать заголовок колонки "Превью"
- [x] Переименовать заголовок колонки "Домен" в "Паблишер"
- [x] Убрать иконку даты рядом с датой публикации статьи
- [x] Убрать иконку графика рядом с метрикой Avg Pos
- [x] Убрать иконку графика рядом с метрикой Est Traffic
- [x] Создать финальный чекпоинт

## Редизайн в стиле Semrush
- [x] Проанализировать дизайн Semrush из скриншота
- [x] Обновить цветовую палитру: фиолетовый header (#5f2d8f), светло-серый sidebar (#f4f5f7), белый контент
- [x] Переработать header: фиолетовый фон, белый текст, зеленая кнопка Search
- [x] Переработать sidebar: светлый фон, иконки слева, текст справа, активный элемент с фиолетовым фоном
- [x] Обновить типографику: более крупные заголовки, улучшенная читаемость
- [x] Обновить стили карточек: белый фон, тонкие границы, минимальные тени
- [x] Обновить стили таблиц: чередующиеся строки, hover эффекты
- [x] Обновить цвета акцентов: зеленый для положительных действий (Search button, тренды)
- [x] Обновить стили бейджей: убраны градиенты, более чистый вид
- [x] Упростить hover-эффекты виджетов
- [x] Создать финальный чекпоинт с дизайном в стиле Semrush

## Исправление области поиска и фильтрации
- [x] Изменить заголовок Domain Overview на Discover Overview
- [x] Убрать лишний отступ сверху над заголовком и параметрами фильтрации
- [x] Исправить дублирование зеленой точки в селекторе Live (должна быть одна точка)
- [x] Создать финальный чекпоинт

## Уменьшение отступов в виджетах
- [x] Изменить gap-6 на gap-1 в компоненте Card (data-slot="card") для более компактного отображения
- [x] Создать финальный чекпоинт

## Интерактивная фильтрация через виджеты
- [x] Переместить виджеты Popular Entities, Popular Categories, Popular Publishers над таблицей Popular publications
- [x] Добавить состояние фильтров (entity, category, publisher) в компонент
- [x] Реализовать обработчики клика на элементы виджетов для установки фильтров
- [x] Реализовать фильтрацию таблицы Popular publications по выбранным параметрам
- [x] Добавить визуальное выделение активных фильтров в виджетах (bg-primary/10 + border)
- [x] Создать финальный чекпоинт

## Исправление дублирования виджетов
- [x] Удалить дублирующиеся виджеты Popular Entities, Categories, Publishers
- [x] Оставить только виджеты над таблицей Popular publications
- [x] Создать финальный чекпоинт

## Обновление таблицы Popular publications
- [x] Добавить поле displayFormat в данные публикаций (4 варианта: title-only, title-image, image-top, story)
- [x] Добавить колонку "Отображение" с иконками форматов отображения
- [x] Переименовать поле format в type
- [x] Изменить значения типов: Article → Статья, Analysis → Карусель, Listicle → Видео
- [x] Переименовать колонку "Формат" в "Тип"
- [x] Создать финальный чекпоинт

## Расширение функциональности таблицы Popular publications
- [x] Добавить тултипы для иконок форматов отображения
- [x] Изменить displayFormat на массив displayFormats для поддержки множественных форматов
- [x] Сгенерировать 50 публикаций с разнообразными данными
- [x] Добавить поле badges с признаками (reappeared, similar_region, wide_geo)
- [x] Добавить иконки-признаки рядом с заголовком с тултипами
- [x] Реализовать infinity scroll для таблицы (20 изначально, +10 при скролле)
- [x] Сделать заголовок таблицы sticky при скролле
- [x] Добавить кнопки "Фильтр" и "Скачать" в правый верхний угол таблицы
- [x] Реализовать экспорт данных в CSV (кнопка Скачать)
- [ ] Реализовать модальное окно фильтрации по всем колонкам (кнопка Фильтр - placeholder)
- [x] Создать финальный чекпоинт

## Исправление ошибок в таблице Popular publications
- [x] Исправить невалидные URL картинок публикаций (заменены на picsum.photos)
- [x] Исправить sticky header таблицы (добавлен overflow контейнер с max-height)
- [x] Проверить расположение иконок-признаков (уже находятся в строке с заголовком)
- [x] Создать финальный чекпоинт

## Интерактивность виджетов с добавлением в отслеживание
- [x] Добавить состояние для управления popup и выбранного элемента
- [x] Создать компонент Dialog с формой добавления в отслеживание
- [x] Добавить поля выбора проекта (4 опции) и частоты проверки (4 опции) в форму
- [x] Добавить hover-эффект с иконкой плюсика слева от элементов в виджетах Popular Entities
- [x] Добавить hover-эффект с иконкой плюсика слева от элементов в виджетах Popular Categories
- [x] Добавить hover-эффект с иконкой плюсика слева от элементов в виджетах Popular Publishers
- [x] Реализовать обработчик клика на иконку плюсика для открытия popup
- [x] Создать финальный чекпоинт

## Улучшение иконок-признаков статей
- [x] Заменить иконку "Повторное появление" на Repeat из lucide-react
- [x] Заменить иконку "Похожий в другом регионе" на Globe из lucide-react
- [x] Заменить иконку "Широкий GEO охват" на TrendingUp из lucide-react
- [x] Увеличить размер иконок до w-5 h-5 с фоновым кругом
- [x] Добавить цветовую кодировку: синий (Repeat), оранжевый (Globe), зеленый (TrendingUp)
- [x] Улучшить стили тултипов (добавлен font-medium)
- [x] Создать финальный чекпоинт

## Добавление признака "Набирает популярность"
- [x] Добавить новый тип признака "trending" (набирает популярность)
- [x] Выбрать иконку Flame для визуализации
- [x] Добавить красный цветовой круг (bg-red-100 + text-red-600)
- [x] Создать толтип с описанием "Материал набирает популярность"
- [x] Обновить mock-данные для 3 статей (id 1, 2, 4)
- [x] Протестировать отображение в таблице
- [x] Создать чекпоинт

## Увеличение высоты таблицы и реализация фильтрации
- [x] Увеличить max-height контейнера таблицы с 600px до 900px
- [x] Создать состояние filterDialogOpen для управления модальным окном
- [x] Создать 13 состояний для фильтров (тип, формат, паблишер, DDS, сущность, категория, lifetime, avg pos, traffic, признаки)
- [x] Разработать UI модального окна со всеми полями фильтрации
- [x] Реализовать логику фильтрации по всем полям (с поддержкой диапазонов и поиска)
- [x] Добавить кнопку "Сбросить" с очисткой всех фильтров
- [x] Подключить обработчик кнопки "Фильтр" для открытия модального окна
- [x] Протестировать работу всех фильтров
- [x] Создать чекпоинт

## Интерактивные иконки в виджетах и детальные страницы
- [x] Создать детальную страницу для сущностей (EntityDetail.tsx)
- [x] Создать детальную страницу для категорий (CategoryDetail.tsx)
- [x] Создать детальную страницу для паблишеров (PublisherDetail.tsx)
- [x] Добавить роуты для детальных страниц в App.tsx (/entity/:name, /category/:name, /publisher/:domain)
- [x] Добавить 3 состояния для отслеживания наведения (hoveredEntity, hoveredCategory, hoveredPublisher)
- [x] Реализовать отображение иконок Filter и Search при наведении на Popular Entities
- [x] Реализовать отображение иконок Filter и Search при наведении на Popular Categories
- [x] Реализовать отображение иконок Filter и Search при наведении на Popular Publishers
- [x] Подключить обработчик клика на иконку Filter для применения фильтрации таблицы и прокрутки вниз
- [x] Подключить обработчик клика на иконку Search для перехода на детальную страницу
- [x] Изменить обработчик клика на само значение для перехода на детальную страницу (вместо фильтрации)
- [x] Протестировать работу всех иконок и переходов
- [x] Создать чекпоинт

## Перевод интерфейса на английский язык
- [x] Перевести заголовки статей, даты и типы контента (50 статей)
- [x] Перевести все толтипы и подсказки (DDS, Lifetime, Avg Pos, Est Traffic, признаки)
- [x] Перевести кнопки (Фильтр, Скачать, Отмена, Добавить, Применить, Сбросить)
- [x] Перевести модальные окна (Filter Dialog, Tracking Dialog)
- [x] Перевести детальные страницы (EntityDetail, CategoryDetail, PublisherDetail)
- [x] Перевести страницу Discover Tracking
- [x] Перевести страницу Tools
- [x] Перевести заголовки таблицы, виджетов, селектов
- [x] Протестировать весь интерфейс на наличие русских текстов
- [x] Создать чекпоинт

## Исправление сдвига элементов в виджетах при наведении
- [x] Изменить позиционирование иконок Filter и Search на absolute
- [x] Добавить relative позиционирование для родительского контейнера
- [x] Сделать иконки overlay поверх sparkline/badge с bg-background/95 backdrop-blur-sm
- [x] Протестировать отсутствие сдвига при наведении на все три виджета
- [x] Создать чекпоинт

## Кликабельность элементов таблицы Popular publications
- [x] Создать детальную страницу статьи (ArticleDetail.tsx)
- [x] Добавить роут для детальной страницы статьи (/article/:id)
- [x] Сделать заголовки статей кликабельными с hover:text-primary hover:underline
- [x] Сделать домены кликабельными с hover:text-primary hover:underline
- [x] Добавить cursor-pointer и transition-colors для плавных переходов
- [x] Протестировать переходы на детальные страницы
- [x] Создать чекпоинт

## Подменю в левой навигации
- [x] Создать страницу Entities с сеткой сущностей и поиском
- [x] Создать страницу Categories с сеткой категорий и поиском
- [x] Создать страницу Publishers с сеткой паблишеров и поиском
- [x] Создать страницу My Projects с карточками проектов
- [x] Добавить роуты /entities, /categories, /publishers, /tracking/projects
- [x] Реализовать раскрывающееся подменю с ChevronDown/ChevronRight
- [x] Добавить подпункты: Explorer, Entities, Categories, Publishers
- [x] Добавить подпункты: My Projects + 3 проекта
- [x] Добавить иконки Compass, Tag, Grid, Globe, FolderOpen, Folder
- [x] Протестировать навигацию и раскрытие/сворачивание меню
- [x] Создать чекпоинт

## Sticky фильтры в header и изменение заголовка
- [x] Изменить заголовок "Discover Overview" на "Discover Explorer"
- [x] Добавить Intersection Observer с threshold: 0 и rootMargin: -64px
- [x] Создать компактную версию фильтров в header (6 селектов + кнопка Search)
- [x] Реализовать логику показа/скрытия через showStickyFilters prop
- [x] Добавить transition-all duration-300 с opacity и translate-y анимацией
- [x] Протестировать появление фильтров при скролле вниз
- [x] Создать чекпоинт

## Синхронизация фильтров между основным блоком и sticky header
- [x] Создать 6 состояний (filterCountry, filterLanguage, filterCategory, filterFormat, filterPublisherMain, period)
- [x] Связать состояния с селектами в основном блоке (value + onValueChange)
- [x] Передать 12 props в DashboardLayout (значения + setters)
- [x] Добавить props в DashboardLayoutProps интерфейс
- [x] Связать все 6 sticky фильтров в header с состояниями
- [x] Протестировать двустороннюю синхронизацию
- [x] Создать чекпоинт

## Исправление отображения sticky фильтров при скроллинге
- [x] Проверить логику Intersection Observer - не срабатывал
- [x] Заменить Intersection Observer на scroll event с getBoundingClientRect()
- [x] Установить условие: rect.bottom < 80 для показа sticky фильтров
- [x] Протестировать появление фильтров при скролле вниз
- [x] Создать чекпоинт

## Удаление ограничения высоты таблицы публикаций
- [x] Найти и убрать max-h-[900px] у контейнера таблицы
- [x] Убрать overflow-auto для отключения внутреннего скролла
- [x] Протестировать отображение всех 50 статей без скролла
- [x] Создать чекпоинт

## Счетчик найденных статей в заголовке
- [x] Добавить Badge variant="secondary" с filteredMaterials.length
- [x] Добавить плюрализацию (article/articles)
- [x] Обеспечить автоматическое обновление при изменении фильтров
- [x] Протестировать отображение "50 articles"
- [x] Создать чекпоинт

## Виджет Popular Languages
- [ ] Создать виджет Popular Languages с такой же структурой как Popular Entities
- [ ] Добавить mock-данные для топ-5 языков (English, Spanish, French, German, Chinese)
- [ ] Реализовать выделение выбранного языка из filterLanguage
- [ ] Добавить интерактивные иконки Filter и Search при наведении
- [ ] Создать страницу LanguageDetail.tsx для детальной информации
- [ ] Добавить роут /language/:code
- [ ] Протестировать работу виджета и выделения
- [ ] Создать чекпоинт

## Добавление виджета Popular Languages
- [x] Добавить 4-й виджет Popular Languages в ряд с остальными виджетами
- [x] Создать mock-данные для языков (English, Spanish, French, German, Chinese) с метриками
- [x] Добавить sparkline барчарты для визуализации динамики публикаций
- [x] Добавить процент изменения динамики публикаций
- [x] Реализовать выделение выбранного языка из фильтра (filters.language)
- [x] Добавить интерактивность при наведении (Filter и Search иконки)
- [x] Создать детальную страницу LanguageDetail.tsx с роутом /language/:code
- [x] Создать финальный чекпоинт

## Добавление признака "Новый материал"
- [x] Добавить новый тип бейджа "new" в интерфейс Material
- [x] Добавить иконку Sparkles с желтым фоном для признака "Новый материал"
- [x] Обновить mock-данные для нескольких публикаций с бейджем "new"
- [x] Добавить тултип "New material" для иконки
- [x] Создать финальный чекпоинт

## Перемещение информации о пользователе в sidebar
- [x] Удалить header с логотипом и информацией о пользователе
- [x] Добавить блок с информацией о пользователе в нижнюю часть sidebar
- [x] Добавить аватар, имя и email пользователя в sidebar
- [x] Обновить layout: убрать отступ для header, контент на всю высоту
- [x] Удалить sticky фильтры из header (больше не нужны)
- [x] Протестировать новую структуру интерфейса
- [x] Создать финальный чекпоинт

## Добавление sticky header с фильтрами при скролле
- [x] Добавить sticky header в DashboardLayout с белым фоном и тенью
- [x] Разместить параметры фильтрации в sticky header (Country, Language, Category, Format, Publisher, Period, Search button)
- [x] Реализовать логику показа/скрытия header при скролле (showStickyFilters prop)
- [x] Добавить плавную анимацию появления/исчезновения header
- [x] Синхронизировать состояние фильтров между основным блоком и sticky header
- [x] Исправить scroll event listener: слушать main вместо window
- [x] Протестировать работу sticky header при скролле страницы
- [x] Создать финальный чекпоинт

## Исправление логики появления sticky header
- [x] Изменить условие с rect.bottom < 0 на rect.top < 0
- [x] Обновить логику: sticky header появляется когда верх Card уходит за пределы
- [x] Протестировать появление header при скролле вниз
- [x] Создать финальный чекпоинт

## Исправление React ref ошибки
- [x] Заменить Card на div с ref для filterSectionRef
- [x] Сохранить стили Card (border, shadow, rounded, bg-card)
- [x] Заменить CardContent на div с паддингами
- [x] Протестировать работу sticky header после исправления
- [x] Создать финальный чекпоинт

## Переключатель светлой/темной темы
- [ ] Включить switchable режим в ThemeProvider (App.tsx)
- [ ] Добавить кнопку переключения темы в sidebar (DashboardLayout)
- [ ] Настроить CSS переменные для темной темы в index.css
- [ ] Протестировать переключение темы
- [ ] Создать финальный чекпоинт
